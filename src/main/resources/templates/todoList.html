<div th:fragment="todoList" xmlns:th="http://www.thymeleaf.org">
    <header th:attr="ic-include='{&quot;status&quot;: &quot;' + ${status} + '&quot;}'">
        <h1>todos</h1>
        <form id="todo-form" ic-post-to="/todos">
            <input id="new-todo" placeholder="What needs to be done?" name="todo-title"
                   pattern=".{4,}" required title="> 3 chars" autofocus>
        </form>
    </header>

    <section id="main" th:attr="ic-include='{&quot;status&quot;: &quot;' + ${status} + '&quot;}'">
        <input type="checkbox" name="toggle-all" ic-put-to="/todos/toggle_status" id="toggle-all" th:checked="${allComplete}">
        <ul id="todo-list">
            <li th:each="todo : ${todos}" th:class="${todo.complete} ? completed">
                <div class="view">
                    <input type="checkbox" class="toggle"
                           th:attr="ic-put-to='/todos/' + ${todo.id} + '/toggle_status'" th:checked="${todo.complete}">
                    <label th:attr="ic-get-from='/todos/' + ${todo.id} + '/edit'"
                           ic-target="closest li" ic-trigger-on="dblclick" ic-replace-target="true"
                           th:value="${todo.title}">[[${todo.title}]]</label>
                    <button class="destroy" th:attr="ic-delete-from='/todos/' + ${todo.id}"></button>
                </div>
            </li>
        </ul>
    </section>

    <footer>
        <span id="todo-count">
            <strong th:text="${activeCount}"></strong> items left
        </span>
        <ul id="filters" ic-push-url="true"> <!-- maintains history -->
            <li th:class=" ${filter} == '' ? selected" ic-get-from="/">All</li>
            <li th:class=" ${filter} == 'active' ? selected" ic-get-from="/?status=active">Active</li>
            <li th:class=" ${filter} == 'complete' ? selected" ic-get-from="/?status=complete">Completed</li>
        </ul>
        <button id="clear-completed" ic-delete-from="/todos/completed"
                th:attr="ic-include='{&quot;status&quot;: &quot;' + ${status} + '&quot;}'"
                th:if="${anyCompleteTodos}">Clear completed</button>
    </footer>
</div>
